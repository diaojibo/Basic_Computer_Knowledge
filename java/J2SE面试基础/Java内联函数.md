## java内联函数

在计算机科学中，内联函数（有时称作在线函数或编译时期展开函数）是一种编程语言结构，用来建议编译器对一些特殊函数进行内联扩展（有时称作在线扩展）；也就是说**建议编译器将指定的函数体插入并取代每一处调用该函数的地方**，从而节省了每次调用函数带来的额外时间开支。

调用某个函数实际上将程序执行顺序**转移到该函数所存放在内存中某个地址**，将函数的程序内容执行完后，再返回到 转去执行该函数前的地方。这种转移操作要求在转去前要保护现场并记忆执行的地址，转回后先要恢复现场，并按原来保 存地址继续执行。**也就是通常说的压栈和出栈**。

但在选择使用内联函数时，必须在程序占用空间和程序执行效率之间进行权衡，因为过多的比较复杂的函数进行内联扩展将带来很大的存储资源开支。另外还需要非常注意的是对递归函数的内联扩展可能带来部分编译器的无穷编译。

**C、C++中可以声明内联函数，在java中不支持直接声明，但是jvm会根据情况进行优化内联。**

内联函数特点：
1. 提升效率。如上说明。
2. 占更多内存空间。编译器直接将内联函数扩展开，调用多复制品就多，因此更占用内存。
3. java中不需额外关注，jvm会自动进行优化


**在java早期实现中，如果将一个方法指明为final，就是同意编译器将针对该方法的调用都转化为内嵌调用。**

在最近的java设计中，虚拟机（特别是hotspot技术）可以自己去根据具体情况自动优化选择是否进行内联，因此和final关键字就无关了。
