## ThreadPool
回顾一下线程的五个生命周期先
![](image/thread1.png)

那么什么时候应该应用线程池呢？

假设一个服务器完成一项任务所需时间为：T1 创建线程时间，T2 在线程中执行任务的时间，T3 销毁线程时间。

如果：**T1 + T3 远大于 T2**，则可以采用线程池，以提高服务器性能。

### 线程池的优点
合理利用线程池能够带来三个好处。
1. 降低资源消耗。通过重复利用已创建的线程降低线程创建和销毁造成的消耗。
2. 提高响应速度。当任务到达时，任务可以不需要等到线程创建就能立即执行。
3. 提高线程的可管理性。线程是稀缺资源，如果无限制的创建，不仅会消耗系统资源，还会降低系统的稳定性，使用线程池可以进行统一的分配，调优和监控。但是要做到合理的利用线程池，必须对其原理了如指掌。


那么线程池，从何说起呢？

### Executor框架

首先我们在之前的笔记JUC包基础概述里已经知道了，JUC包的大致结构。从功能上大概可以分为那几个模块，那么这里就要提到**Executor框架**。这个概念了。

什么是Executor框架呢？这个框架其实就是指JUC包里的：线程池，Executor(JUC包下的一个接口)，Executors(JUC包下的一个类)，ExecutorService，CompletionService，Future，Callable等。

以上这些JUC包里的东西可以被统称为Executor框架。

首先来观察一下Executor体系的整体架构

![](image/Executor.png)

Executor 接口中之定义了一个方法 execute（Runnable command），该方法接收一个 Runable 实例，它用来执行一个任务，任务即一个实现了 Runnable 接口的类。

ExecutorService 接口继承自 Executor 接口，它提供了更丰富的实现多线程的方法，比如，ExecutorService 提供了关闭自己的方法，以及可为跟踪一个或多个异步任务执行状况而生成 Future 的方法。 **这个接口包含着管理线程的一些方法的定义，意味着这个接口将被各种线程池实现**

也就是各种具体的线程池，通常都直接或间接实现了这个接口下定义的方法。
