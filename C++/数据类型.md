## 数据类型

**机器字长**：是指计算机进行一次整数运算所能处理的二进制数据的位数（整数运算即定点整数运算）。机器字长也就是运算器进行定点数运算的字长，通常也是**CPU内部数据通路的宽度**。现在一般为32位即4个字节，也有64位和16位的。

C++定义了一套算术类型，和**空类型void**。算术类型的尺寸在不同机器上有区别。


算术类型的存储空间按照机器而定。一般，**short类型为半个机器字长，int为一个机器字长，long为1或2个机器字长**，float为一个机器字长，double为两个字，long double用3或4个字长。**C++标准规定的是每个算术类型的最小存储空间，但其并不阻止编译器用更大的存储空间**。如果要保证移植性，尽量用__int16 __int32 __int64吧，或者自己typedef int INT32一下。

C++中规定了各种算术类型的最小尺寸：

 - bool 8bit
 - char 8bit
 - wchar_t 16bit
 - char16_t 16bit
 - char32_t 32bit
 - short 16bit
 - int 16bit
 - long 32bit
 - long long 32bit
 - float 6位有效数字
 - double 10位有效数字
 - long double 10位有效数字

一个char的空间应确保可以存放机器的基本字节字符集中的任意字符对应的数字值，即ASCII码中的任意字符，以前是7位，后面扩展为8位

C++中规定，一个int至少和一个short一样大，一个long至少和一个int一样大，一个long long则至少和一个long一样大，**其中，数据类型long long是在C++11中新定义的**。

除此之外，整形可以划分为带符号的(signed)和无符号的(unsigned),带符号的可以表示正负数，无符号的整形只会大于等于0.

但是与整形不同，字符型被分为3种：char,signed char和unsigned char.默认的char类型表现为有符号还是无符号的，完全由编译器决定。


选择类型使用遵循以下原则：

 - 明确为正数时使用无符号类型
 - 超过int范围时使用long long
 - 算术表达式避免使用char或者bool
 - 执行浮点运算应选择double

### 隐式类型转换

有以下规则

 - 非布尔值给bool，0为false，否则为true

 - 布尔值赋给非布尔，false为0，true为1

 - 浮点数赋值给整数，只保留整数位

 - **给一个无符号类型赋一个超出范围的值，结果是这个值对无符号类型表示数值总数取模后的余数**。比如-1赋值给unsigned char。则(-1) mod 256 = 255。得值为255(也可以用补码计算)。

 - 当我们给带符号类型一个超出类型表示范围的值得时候，结果是**未定义(undefined)的**。可能继续工作，可能崩溃，也可能生成垃圾数据。
