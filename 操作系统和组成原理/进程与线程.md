## 进程与线程
进程是系统进行资源分配的基本单位。

线程，是进程的一部分，是**CPU调度和分派的基本单位**，它是比进程更小的能独立运行的基本单位。

线程是进程的一部分，一个线程可以创建和撤销另一个线程。同一个进程中的多个线程之间可以并发执行。线程可与同属一个进程的其他的线程共享进程所拥有的全部资源，但拥有自己的栈空间，拥有独立的执行序列。线程自己基本上不拥有系统资源，只拥有在运行中必不可少的资源(程序计数器，寄存器和栈)。

1. 一个程序至少有一个进程，一个进程至少有一个线程(没有线程的进程可以被看作是单线程的)
2. 大小。线程的划分尺度小于进程，使得多线程程序的并发性高。
3. 内存。进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。
4. 执行过程。每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。
5. **多线程的意义在于一个应用程序中有多个执行部分可以同时执行**，但操作系统并没有将多个线程看做多个独立的应用来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。

### 线程的需求
在网络或多用户环境下，Web服务器需要接收大量的并发请求，为每一个请求都创建一个进程显然是不行的，进程是相当重量级的，太多进程会很快让机器吃不消，问题不在于机器不够强大或者网络不好，而是实现的太差。Http连接是短暂的，资源一般很小，不会像Ftp保持数分钟或者几小时，所以早期的web性能问题不明显，但是随着使用量的增长，高流量的web服务器性能会下降。
有两种常见的解决方案：
1. 重用进程。不是为每个请求新建一个进程，而是在服务器启动时，创建固定数量的进程，当一个请求到达时放入队列，进程从队列中取出请求处理，同时删除队列中的请求，处理完成之后继续从队列中取出请求进行服务。好处是避免了建立和销毁进程所用的开销
2. 更轻量的线程。因为线程的以上优点，所以线程是个很好的选择，同时再利用线程池，可以提供很好的性能。
