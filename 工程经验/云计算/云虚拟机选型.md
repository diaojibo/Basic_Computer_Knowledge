## 虚拟机选择基础

**虚拟机的规格**直接决定了虚拟机的计算能力和特点，同时，也会深刻地影响使用成本，是你在选型时需要考虑的重点问题。 

完整形容一个虚拟机的核心配置和能力，需要从多个角度来入手和描述。弄懂了这些重要维度的含义，你才能够准确理解一个虚拟机的性能预期和使用场景，从而作出正确的型号选 择。这里并非只有决定 CPU 核数和内存大小这么简单。

一般来讲，云厂商会提供通用均衡型、计算密集型、内存优化型、图形计算型等常见的虚拟机类型。这些类型对应着硬件资源的某种合理配比或针对性强化，方便你在面向不同场景时，选择最合适的那个型号

### 虚拟机类型

而 vCPU 数和内存大小（按 GB 计算）的比例，**是决定和区分虚拟机类型的重要指征之一**。 

**通用均衡型**的比例通常是 1:4，如 2 核 8G，这是一个**经典的搭配**，可用于建站、应用服务 等各种常见负载，比如作为官网和企业应用程序的后端服务器等。如果你对未来工作负载的特征还没有经验和把握，那你也可以先使用通用型实例，等程序运行一段时间后再根据资源占用情况按需调整。 

如果 vCPU 和内存比是 1:2 甚至 1:1，那就是**计算密集型**的范畴，它可以用于进行科学计算、视频编码、代码编译等计算密集型负载。 

比例为 1:8 及以上，一般就会被归入**内存优化型**了，比如 8 核 64G 的搭配，它在数据库 缓存服务、大数据分析等应用场景较为常见。 

**图形计算型**很好理解，就是带有 GPU 能力的虚拟机，一般用于机器学习和深度学习模型的 训练和推理。随着 AI 的火热，这类机器也越来越多地出现在各种研发和生产环境中。

**在主流云计算平台上，常常使用字母缩写来表达虚拟机系列。**比如，AWS 的通用型是 M 系列，阿里云的内存优化型为 R 系列，Azure 的计算优化型为 F 系列等。

### 虚拟机的代

**所以即便是同一系列的机型，不同的代别之间也会有不小的区别。**

是由于虚拟机所采用的物理 CPU 在不断更新，所以**云上虚拟机的单核性能未必相同**。有时，虽然两个虚拟机的核数一致，但由于底层芯片的架构和频率原因，性能上可能有较大的差别，我们需要注意在不同机型间做好比较和区分。 

### 大致命名规则

![1589890154715](image/1589890154715.png)

对于 **r5.4xlarge** 这个型号，我们会很快想到，这首先是一个 R 类型的第 5 代的内 存型机器，它应该有 4×4=16 个 vCPU，内存大小则是 16×8=128G（内存型机器的 CPU内存比一般为 1:8）。这样分解下来，原来看上去比较陌生晦涩的一个字符串，是不是就立 刻变得清晰起来了？