## etcd基础

etcd 是云原生架构中重要的基础组件，由 CNCF 孵化托管。etcd 在微服务和 Kubernates 集群中不仅可以作为服务注册于发现，还可以作为 key-value 存储的中间件。

etcd 是 CoreOS 团队于 2013 年 6 月发起的开源项目，它的目标是构建一个高可用的分布式键值(key-value)数据库。具有以下特点：



- 简单：安装配置简单，而且提供了 HTTP API 进行交互，使用也很简单

- 键值对存储：将数据存储在分层组织的目录中，如同在标准文件系统中

- 监测变更：监测特定的键或目录以进行更改，并对值的更改做出反应

- 安全：支持 SSL 证书验证

- 快速：根据官方提供的 benchmark 数据，单实例支持每秒 2k+ 读操作

- 可靠：采用 raft 算法，实现分布式系统数据的可用性和一致性


etcd 采用 Go 语言编写，它具有出色的跨平台支持，很小的二进制文件和强大的社区。 etcd 机器之间的通信通过 Raft 算法处理。

归根结底，etcd 是一个**键值存储**的组件，其他的应用都是基于其键值存储的功能展开。etcd 的存储有如下特点：

- 采用kv型数据存储，一般情况下比关系型数据库快。
- 支持动态存储(内存)以及静态存储(磁盘)。
- 分布式存储，可集成为多节点集群。
- 存储方式，采用类似目录结构。
  - 只有叶子节点才能真正存储数据，相当于文件。
  - 叶子节点的父节点一定是目录，目录不能存储数据。