### Boost协程

 boost coroutine2库（boost coroutine已经废弃，建议使用boost coroutine2）为cpp提供协程支持 



协程有如下特点：

1. 同其他数据类型一样，协程也是第一类（first-class）对象，可以被当参数传递等操作；
2. 运行特点是挂起运行，离开协程，过后再进入，恢复运行；
3. **具有对称和非对称的转移控制机制**
4. 挂起前和恢复后本地变量的值是一致的；
5. **有stackless和stackful两种类型**

**ps 区分有栈协程和无栈协程，以及对称协程与非对称协程很重要**



#### 对称与非对称

最大的区别就是，协程切换的时候，是否知道下一个要调用的是哪个协程。

非对称协程知道它的调用方，使用特殊操作隐式地向其调用方提供控制。反之对于对称协程，所有对称协程都是等价的，一个对称协程下次可能会跳到任何一个协程里去。

 这两个概念是等价的，一个完全通用的协程库可以提供对称和不对称两种方式。 



#### 无栈协程

stackless的的无栈协程，只能保存最先调用的协程的堆栈，如果协程里面又开别的协程，那堆栈数据不会被保存。



 boost::coroutines2::coroutine<>被用来实现协程。它有两个嵌套类型：pull_type和push_type。

- pull_type可以从push_type那里接收并返回数据。
- push_type可以把数据传给pull_type。 