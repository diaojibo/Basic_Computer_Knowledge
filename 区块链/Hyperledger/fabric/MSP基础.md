# MSP基础
Fabric的架构中，有MSP这样一个逻辑结构，这个结构主要承担权限管理的作用。

![](image/fabric6.png)

上图是Fabric的大致结构，可以看到权限管理那一部分服务是由MSP来提供的。


![](image/fabric5.png)

MSP是**Membership Service Provider**的缩写，直译为成员关系服务提供者。

有几个相关的术语，必须要先了解清楚。

### CA
CA是PKI系统中通信**双方信任的实体**，被称为**可信第三方（Trusted Third Party，简称TTP）**。作为可信第三方的行为具有非否认性。

CA通过证书证实他人的公钥信息，证书上有CA的签名。用户如果因为信任证书而导致了损失，证书可以作为有效的证据用于追究CA的法律责任。正是因为CA愿意给出承担责任的承诺，所以也被称为可信第三方。

### certificate 证书
证书（certificate）是Fabric中权限管理的基础。目前采用了基于ECDSA算法的非对称加密算法来生成公钥和私钥，证书格式则采用了X.509的标准规范。

所谓的X509规范标准，其实就是一种非常通用的证书格式。一份X.509证书是一些标准字段的集合，这些字段包含有关用户或设备及其相应公钥的信息。X.509标准定义了证书中应该包含哪些信息，并描述了这些信息是如何编码的(即数据格式)

根据百度百科，证书里的内容大致如下图

![](image/fabric7.png)

总之就是，Fabric中采用单独的Fabric CA项目来管理证书的生成。每一个实体、组织都可以拥有自己的身份证书，并且证书也遵循了组织结构，方便基于组织实现灵活的权限管理。

## 参考

[9-HyperLedger-Fabric原理-MSP详解（一）-MSP基础](https://zhuanlan.zhihu.com/p/35683522)