## 闪电贷

**闪电贷可以让我们在无需抵押品的情况下从指定的智能合约池中借入任何可用的资产金额**。

闪电贷是 DeFi 中有用的一个构件（building block），因为它可以用于套利、交换抵押品和自我清算等。

闪电贷款虽然最初是由 Marble 协议引入的，但由 **Aave** 和 **dYdX** 普及。（注：dYdX 是全球首个去中心化数字货币衍生品交易平台）

那么，闪电贷有什么好处呢？

闪贷必须在同一区块链交易中进行借贷和快速偿还。

### 交易

一个交易代表了一组必须以「原子方式」执行的操作，原子方式指的是要么所有的步骤都被执行，要么交易被回滚，一个步骤都不会被执行。

![image-20210526231700069](C:\Users\rockctli\AppData\Roaming\Typora\typora-user-images\image-20210526231700069.png)

原子化交易，不同的步骤是同一个交易的一部分，它们是不可分割的，要么全有，要么全无。

ps：也就是所谓的事务性

### 以太坊交易

![image-20210526231836938](C:\Users\rockctli\AppData\Roaming\Typora\typora-user-images\image-20210526231836938.png)

交易被分组并包含在 Ethereum 区块中。我们可以很方便地在任意的区块链浏览器（**例如 Etherscan**）上看到包含在特定区块中的所有交易。

![image-20210526231950018](C:\Users\rockctli\AppData\Roaming\Typora\typora-user-images\image-20210526231950018.png)

一个 Ethereum 交易可以包含多个步骤，例如，在 **Compound** 上提供 ETH 并借出 DAI，在 **Curve** 上将借出的 DAI 的一半换成 USDC，在 **Uniswap** 上为 DAI/USDC 池提供流动性，所有这些都在一个 Ethereum 交易中完成。当然，如果其中任何一个步骤导致错误，整个交易将被回滚，所有步骤都不会发生。需要注意的是，即使合约执行失败，我们还是要付 gas 费的。

