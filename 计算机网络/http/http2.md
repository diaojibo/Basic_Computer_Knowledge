## http2
SPDY 系列协议由谷歌开发，于 2009 年公开。它的设计目标是降低 50% 的页面加载时间。当下很多著名的互联网公司，例如百度、淘宝、UPYUN 都在自己的网站或 APP 中采用了 SPDY 系列协议（当前最新版本是 SPDY/3.1），因为它对性能的提升是显而易见的。主流的浏览器（谷歌、火狐、Opera）也都早已经支持 SPDY，它已经成为了工业标准，**HTTP Working-Group 最终决定以 SPDY/2 为基础，开发 HTTP/2**。


### HTTP/2 的优势


#### 二进制协议
HTTP/2 采用二进制格式传输数据，而非 HTTP/1.x 的文本格式。二进制格式在协议的解析和优化扩展上带来更多的优势和可能。

由于协议提供了压缩这一特性，而其**经常运行在TLS之上**的事实又再次降低了基于纯文本实现的价值，反正也没办法直接从数据流上看到文本。**因此通常情况下，我们必须习惯使用类似Wireshark这样的工具对http2的协议层一探究竟**。

#### 消息头压缩
**HTTP/2 对消息头采用 HPACK 进行压缩传输，能够节省消息头占用的网络的流量**。而 HTTP/1.x 每次请求，都会携带大量冗余头信息，浪费了很多带宽资源。头压缩能够很好的解决该问题。

#### 多路复用
多路复用，直白的说就是所有的请求都是通过一个 TCP 连接并发完成。HTTP/1.x 虽然通过 pipeline 也能并发请求，但是多个请求之间的响应会 **被阻塞的(线头阻塞)**，所以 pipeline 至今也没有被普及应用，而 HTTP/2 做到了真正的并发请求。同时，流还支持优先级和流量控制。

每个 Frame Header 都有一个 Stream ID 就是被用于实现该特性。每次请求/响应使用不同的 Stream ID。就像同一个 TCP 链接上的数据包通过 IP:PORT来区分出数据包去往哪里一样。通过 Stream ID 标识，所有的请求和响应都可以欢快的同时跑在一条 TCP 链接上了。

zwlj:http2协议为二进制协议之后，里面有个Stream ID的字段，每个请求响应都根据这个Stream ID字段来，不同Stream有优先级，优先级高的先传输，这样可以解决线头阻塞的问题。

#### 服务器主动推送(Server Push)
服务器主动推送(Server Push：服务端能够更快的把资源推送给客户端。

例如服务端可以**主动把 JS 和 CSS 文件推送给客户端**，而**不需要客户端解析 HTML 再发送这些请求**。当客户端需要的时候，它已经在客户端了。)
