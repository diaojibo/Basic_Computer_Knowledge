## sharding

sharding，中文名叫数据分片，是对数据进行横向扩展的一种方式。数据量增加，我可以通过加一台机器，来扩展其容纳能力和处理能力。

Sharding其实需要解决三个问题：

- 数据的路由
- 数据的分片
- 分片的元数据信息保存。



1. 数据路由是数据库告诉应用程序，你让我查的数据目前在哪个分片上，这条路怎么走过去。
2. 数据分片就是实际数据的存放地点，往往每个分片就是一台单独的服务器（含存储）。
3. 由于分片的数据实际是被切割放在不同的机器上，那么需要有个集中的地点存放数据分片的信息，即分片元数据的信息。

最著名的sharding database就是mongoDB了。mongoDB的sharding功能的架构也是为了解决上面的三个问题，MongoDB有路由服务器（Router）解决路由问题，分片服务器（Shard）存储实际数据（可能还有副本和仲裁），以及配置服务器（Config Server）存放分片元数据。

![img](image/sharded-cluster.png)



### share nothing
我们常说的 Sharding 其实就是Share Nothing架构，它是把某个表从物理存储上被**水平分割**，并分配给多台服务器（或多个实例），每台服务器可以独立工作，具备共同的schema，比如MySQL Proxy和Google的各种架构，只需增加服务器数就可以增加处理能力和容量。



