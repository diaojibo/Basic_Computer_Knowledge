## ElasticSearch
ElasticSearch是一个基于Lucene的搜索服务器。它提供了一个分布式多用户能力的全文搜索引擎，基于RESTful web接口。Elasticsearch是用Java开发的，并作为Apache许可条款下的开放源码发布，是当前流行的企业级搜索引擎。设计用于云计算中，能够达到实时搜索，稳定，可靠，快速，安装使用方便。

### 基础概念

 - 索引，具有相同属性的文档集合。
 - 类型，索引可以定义一个或多个类型，文档必须属于一个类型。
 - 文档，文档是可以被索引的基本数据单位。

索引相当于数据库，类型类似于表，而文档相当于记录。

 - 分片，每个索引都有多个分片，每个分片是一个Lucene索引
 - 拷贝一份分片就完成了分片的备份。

#### RESTful API

![](image/es0.jpg)

### 查询
查询ES分为三种，简单查询，条件查询，复合查询。


#### 简单查询
简单查询就是直接用get方法，用对应的url来查询相应的数据，比如`http://127.0.0.1:9200/indexName/typeName/id`

以上可以根据id检索相应index里的type(表)里的数据。

#### 条件查询
利用post方法来进行查询，向服务器发送json文件来表示一个query请求。

比如查询所有数据：

``` json
{
  "query":{
    "match_all":{}
  }
}

```

所有查询，对应的json文件中经常以query作为起头。

通过修改match_all字段可以查询到相应数据。

#### 聚合查询
利用aggs关键字。可见相关文档。
